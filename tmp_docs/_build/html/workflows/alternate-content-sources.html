<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Alternate Content Sources &mdash; Pulp Project 3.23.0.dev documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Upload and Publish" href="upload-publish.html" />
    <link rel="prev" title="Workflows and Use Cases" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Pulp Project
          </a>
              <div class="version">
                3.23.0.dev
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Concepts and Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../from-pulp-2.html">Changes From Pulp 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../components.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Installation Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authentication/index.html">Authentication</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Workflows and Use Cases</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Alternate Content Sources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-acs">Creating ACS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#updating-acs">Updating ACS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#refreshing-acs">Refreshing ACS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="upload-publish.html">Upload and Publish</a></li>
<li class="toctree-l2"><a class="reference internal" href="repo-versioning.html">Repository Versioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="on-demand-downloading.html">On-Demand Downloading</a></li>
<li class="toctree-l2"><a class="reference internal" href="promotion.html">Promotion</a></li>
<li class="toctree-l2"><a class="reference internal" href="scheduling-tasks.html">Scheduling Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="exposing-content.html">Exposing Content</a></li>
<li class="toctree-l2"><a class="reference internal" href="signed-metadata.html">Metadata Signing</a></li>
<li class="toctree-l2"><a class="reference internal" href="repairing-pulp.html">Repairing Pulp</a></li>
<li class="toctree-l2"><a class="reference internal" href="reclaim-disk-space.html">Reclaim disk space for a list of repositories</a></li>
<li class="toctree-l2"><a class="reference internal" href="import-export.html">Pulp Import and Export</a></li>
<li class="toctree-l2"><a class="reference internal" href="labels.html">Labels</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugin-removal.html">Plugin removal</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugin_dev/index.html">Plugin Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rest_api.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client_bindings.html">Client Bindings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bugs-features.html">Bugs, Feature and Backport Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_process.html">Pulpcore Release Process</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Pulp Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Workflows and Use Cases</a></li>
      <li class="breadcrumb-item active">Alternate Content Sources</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/workflows/alternate-content-sources.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="alternate-content-sources">
<h1>Alternate Content Sources<a class="headerlink" href="#alternate-content-sources" title="Permalink to this heading">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This feature requires plugin support to work correctly.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This feature is provided as a tech preview and could change in backwards incompatible
ways in the future</p>
</div>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h2>
<p>Pulp supports the concept of Alternate Content Sources (ACS) which sync content using a remote.
Each content source is a potential alternate provider of files that are associated with content
units in Pulp.</p>
<p>The ACS are useful when dealing with an unreliable or slow internet connection to remote
repositories. Also, when some parts of the repositories are already present on the local
filesystem, configuring a remote pointing to, e.g., <code class="docutils literal notranslate"><span class="pre">file://path/to/the/repo</span></code> enables the
related ACS to fetch the content faster. Similarly, if there exists a mirror of a CDN that is known
to be geographically closer to clients, the ACS may come to the place as well.</p>
<p>Setting the ACS tells Pulp to first check for alternative sources of content in an attempt to pull
the remote content. The ACS have a global scope. Thus, alternative sources will be used in all
future synchronization tasks regardless of the remote specified during the sync time as long as the
checksums of remote artifacts match.</p>
</section>
<section id="creating-acs">
<h2>Creating ACS<a class="headerlink" href="#creating-acs" title="Permalink to this heading">¶</a></h2>
<p>To create ACS, you’ll need a Remote with the “on_demand” policy. You can have ACS point to
multiple Repositories by specifying the <code class="docutils literal notranslate"><span class="pre">paths</span></code> parameter. Each path will be appended to the
Remote’s url.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pulp</span> <span class="o">&lt;</span><span class="n">plugin_name</span><span class="o">&gt;</span> <span class="n">acs</span> <span class="n">create</span> <span class="o">--</span><span class="n">name</span> <span class="o">&lt;</span><span class="n">acs_name</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">remote</span> <span class="o">&lt;</span><span class="n">remote</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">path</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">path</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">path</span></code> option is optional and can be specified multiple times. If a path is not provided,
the url of your remote is used to search for content.</p>
</div>
</section>
<section id="updating-acs">
<h2>Updating ACS<a class="headerlink" href="#updating-acs" title="Permalink to this heading">¶</a></h2>
<p>To update ACS, use a similar call to your ACS but with <code class="docutils literal notranslate"><span class="pre">update</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pulp</span> <span class="o">&lt;</span><span class="n">plugin_name</span><span class="o">&gt;</span> <span class="n">acs</span> <span class="n">update</span> <span class="o">--</span><span class="n">name</span> <span class="o">&lt;</span><span class="n">acs_name</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">remote</span> <span class="o">&lt;</span><span class="n">remote</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>To add or remove paths, use the <code class="docutils literal notranslate"><span class="pre">path</span></code> subcommand:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pulp</span> <span class="o">&lt;</span><span class="n">plugin_name</span><span class="o">&gt;</span> <span class="n">acs</span> <span class="n">path</span> <span class="n">add</span> <span class="o">--</span><span class="n">name</span> <span class="o">&lt;</span><span class="n">acs_name</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">path</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span>
<span class="n">pulp</span> <span class="o">&lt;</span><span class="n">plugin_name</span><span class="o">&gt;</span> <span class="n">acs</span> <span class="n">path</span> <span class="n">remove</span> <span class="o">--</span><span class="n">name</span> <span class="o">&lt;</span><span class="n">acs_name</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">path</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="refreshing-acs">
<h2>Refreshing ACS<a class="headerlink" href="#refreshing-acs" title="Permalink to this heading">¶</a></h2>
<p>To make ACS available the next time you sync, you will need to call the <code class="docutils literal notranslate"><span class="pre">refresh</span></code> command.  It
will go through your paths and catalog content from your content source.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pulp</span> <span class="o">&lt;</span><span class="n">plugin_name</span><span class="o">&gt;</span> <span class="n">acs</span> <span class="n">refresh</span> <span class="o">--</span><span class="n">name</span> <span class="o">&lt;</span><span class="n">acs_name</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Workflows and Use Cases" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="upload-publish.html" class="btn btn-neutral float-right" title="Upload and Publish" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2012-2023, Pulp Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-74748547-2', 'auto');
  ga('send', 'pageview');

</script>


<script>
$( document ).ready( function() {

  // gets version number minus whitespace and bugfix version
  var $version_number = $('.version').text().trim().split('.', 2).join('.')

  // div mirroring the admonition-warning generated by sphinx if added to .rst
  var warning = '\
          <div class="admonition warning"> \
              <p class="first admonition-title">Warning</p> \
              <p class="last">You are looking at the docs for an unsupported version of Pulp. \
               Consider switching to a  \
               <a href="https://pulpproject.org/docs/">supported version</a></p> \
          </div>'

  
  // get JSON from server and load supported_versions
  $.getJSON("https://raw.githubusercontent.com/pulp/pulp-ci/master/ci/config/releases/supported-releases.json" , function(data) {
    if ($.inArray($version_number, data) === -1) {
      $('.rst-content').prepend(warning)
      }
    })
  })
  </script>


</body>
</html>