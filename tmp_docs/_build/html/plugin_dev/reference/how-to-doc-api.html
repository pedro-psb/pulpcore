<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Documenting your API &mdash; Pulp Project 3.23.0.dev documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="On-Demand Support" href="on-demand-support.html" />
    <link rel="prev" title="Error Handling" href="error-handling.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Pulp Project
          </a>
              <div class="version">
                3.23.0.dev
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../concepts.html">Concepts and Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../from-pulp-2.html">Changes From Pulp 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../components.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/index.html">Installation Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/index.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../authentication/index.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../workflows/index.html">Workflows and Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins.html">Plugins</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Plugin Development</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#plugin-writer-s-guide">Plugin Writer’s Guide</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#plugin-writer-s-reference">Plugin Writer’s Reference</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Plugin Writing Reference Material</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="object-relationships.html">Object Relationships</a></li>
<li class="toctree-l4"><a class="reference internal" href="how-plugins-work.html">How Plugins Work</a></li>
<li class="toctree-l4"><a class="reference internal" href="error-handling.html">Error Handling</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Documenting your API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#openapi-tags">OpenAPI Tags</a></li>
<li class="toctree-l4"><a class="reference internal" href="on-demand-support.html">On-Demand Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="releasing.html">Releasing Your Plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="content-protection.html">Content Protection</a></li>
<li class="toctree-l4"><a class="reference internal" href="metadata-signing.html">Metadata Signing</a></li>
<li class="toctree-l4"><a class="reference internal" href="task-scheduling.html">Task Scheduling</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#plugin-api-reference">Plugin API Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../rest_api.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../client_bindings.html">Client Bindings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bugs-features.html">Bugs, Feature and Backport Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_process.html">Pulpcore Release Process</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Pulp Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Plugin Development</a></li>
          <li class="breadcrumb-item"><a href="index.html">Plugin Writing Reference Material</a></li>
      <li class="breadcrumb-item active">Documenting your API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/plugin_dev/reference/how-to-doc-api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="documenting-your-api">
<h1>Documenting your API<a class="headerlink" href="#documenting-your-api" title="Permalink to this heading">¶</a></h1>
<p>Each instance of Pulp hosts dynamically generated REST API documentation located at
<cite>http://pulpserver/pulp/api/v3/docs/</cite>.</p>
<p>The documentation is generated using <a class="reference external" href="https://github.com/Rebilly/ReDoc">ReDoc</a> based on the
<a class="reference external" href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.3.md">OpenAPI 3.0</a> schema
generated by Pulp. The schema generator iterates over all the Views and Viewsets in every plugin
and generates the schema based on the information provided by Viewset doc strings, Viewset method
docstrings, associated Model’s names, View docstrings, and the help text from serializers.</p>
<p>Individual parameters and responses are documented automatically based on the Serializer field type.
A field’s description is generated from the “help_text” kwarg when defining serializer fields.</p>
<p>Response status codes can be generated through the <cite>Meta</cite> class on the serializer:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rest_framework.status</span> <span class="kn">import</span> <span class="n">HTTP_400_BAD_REQUEST</span>

<span class="k">class</span> <span class="nc">SnippetSerializerV1</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">Serializer</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">allow_blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">error_status_codes</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">HTTP_400_BAD_REQUEST</span><span class="p">:</span> <span class="s1">&#39;Bad Request&#39;</span>
        <span class="p">}</span>
</pre></div>
</div>
<p>You may disable schema generation for a view by setting <code class="docutils literal notranslate"><span class="pre">schema</span></code> to <code class="docutils literal notranslate"><span class="pre">None</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CustomView</span><span class="p">(</span><span class="n">APIView</span><span class="p">):</span>
    <span class="c1"># ...</span>
    <span class="n">schema</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Will not appear in schema</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">Meta.ref_name</span></code> is a string that is used as the model definition name for
the serializer class. If this attribute is not specified, all serializers
have an implicit name derived from their class name. In order to avoid
possible name collisions between plugins, plugins must define <code class="docutils literal notranslate"><span class="pre">ref_name</span></code>
on the Meta class using <code class="docutils literal notranslate"><span class="pre">&lt;app_label&gt;.</span></code> as a prefix.</p>
<p>For the model based serializers offered by pulpcore (i.e.
<a class="reference internal" href="../api-reference/serializers.html#pulpcore.plugin.serializers.ModelSerializer" title="pulpcore.plugin.serializers.ModelSerializer"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelSerializer</span></code></a> and derived
serializers), <code class="docutils literal notranslate"><span class="pre">Meta.ref_name</span></code> will be set correctly automatically. There is no
need to set <code class="docutils literal notranslate"><span class="pre">Meta.ref_name</span></code> in this case.</p>
<p>If a serializer has no associated model, you need to set <code class="docutils literal notranslate"><span class="pre">Meta.ref_name</span></code>
explicitly. For example, if the <code class="docutils literal notranslate"><span class="pre">SnippetSerializerV1</span></code> from above is for
the plugin providing the <code class="docutils literal notranslate"><span class="pre">snippets</span></code> app, <code class="docutils literal notranslate"><span class="pre">ref_name</span></code> could be set like
this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SnippetSerializerV1</span><span class="p">(</span><span class="n">serializers</span><span class="o">.</span><span class="n">Serializer</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">serializers</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">allow_blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">ref_name</span> <span class="o">=</span> <span class="s2">&quot;snippets.Snippet&quot;</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Plugin authors can provide manual overrides using the <a class="reference external" href="https://drf-spectacular.readthedocs.io/en/stable/drf_spectacular.html#drf_spectacular.utils.extend_schema">&#64;extend_schema decorator</a></p>
</div>
<p>The OpenAPI schema for pulpcore and all installed plugins can be downloaded from the <code class="docutils literal notranslate"><span class="pre">pulp-api</span></code>
server:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>-o<span class="w"> </span>api.json<span class="w"> </span>http://localhost:24817/pulp/api/v3/docs/api.json
</pre></div>
</div>
<p>The OpenAPI schema for a specific plugin can be downloaded by specifying the plugin’s module name
as a GET parameter. For example for pulp_rpm only endpoints use a query like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>-o<span class="w"> </span>api.json<span class="w"> </span>http://localhost:24817/pulp/api/v3/docs/api.json?plugin<span class="o">=</span>pulp_rpm
</pre></div>
</div>
</section>
<section id="openapi-tags">
<h1>OpenAPI Tags<a class="headerlink" href="#openapi-tags" title="Permalink to this heading">¶</a></h1>
<p>Tags are used to group operations logically into categories, such as RepositoriesRpm,
DistributionsRpm, ContentPackages, and so on.
Pulpcore OpenAPI Tags are generated from URL paths.</p>
<p>Path <code class="docutils literal notranslate"><span class="pre">/pulp/api/v3/repositories/rpm/rpm/</span></code> yields the tag <code class="docutils literal notranslate"><span class="pre">repositories:</span> <span class="pre">rpm</span></code> which is turned into
<code class="docutils literal notranslate"><span class="pre">RepositoriesRpmApi</span></code> in the bindings client.</p>
<p>It is possible to customize the tag by setting the <code class="docutils literal notranslate"><span class="pre">pulp_tag_name</span></code> attribute at your view.</p>
<p>Setting <code class="docutils literal notranslate"><span class="pre">pulp_tag_name</span> <span class="pre">=</span> <span class="pre">&quot;Pulp:</span> <span class="pre">RPM</span> <span class="pre">Repo&quot;</span></code> at <code class="docutils literal notranslate"><span class="pre">RpmRepositoryViewSet</span></code> yields the tag <code class="docutils literal notranslate"><span class="pre">Pulp:</span> <span class="pre">RPM</span> <span class="pre">Repo</span></code>
which is turned into <code class="docutils literal notranslate"><span class="pre">PulpRPMRepoApi</span></code> in the bindings client.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="error-handling.html" class="btn btn-neutral float-left" title="Error Handling" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="on-demand-support.html" class="btn btn-neutral float-right" title="On-Demand Support" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2012-2023, Pulp Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-74748547-2', 'auto');
  ga('send', 'pageview');

</script>


<script>
$( document ).ready( function() {

  // gets version number minus whitespace and bugfix version
  var $version_number = $('.version').text().trim().split('.', 2).join('.')

  // div mirroring the admonition-warning generated by sphinx if added to .rst
  var warning = '\
          <div class="admonition warning"> \
              <p class="first admonition-title">Warning</p> \
              <p class="last">You are looking at the docs for an unsupported version of Pulp. \
               Consider switching to a  \
               <a href="https://pulpproject.org/docs/">supported version</a></p> \
          </div>'

  
  // get JSON from server and load supported_versions
  $.getJSON("https://raw.githubusercontent.com/pulp/pulp-ci/master/ci/config/releases/supported-releases.json" , function(data) {
    if ($.inArray($version_number, data) === -1) {
      $('.rst-content').prepend(warning)
      }
    })
  })
  </script>


</body>
</html>